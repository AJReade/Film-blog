<!DOCTYPE Html>
<header>
    <meta charset = "UTF-8">
    <title>Gotham</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/CSS" href="CSS/all.min.css">
    <link rel="stylesheet" type="text/css" href="CSS/article_page.css">
    
</header>
<body>
	<header class="page-header">
		<div class="wrapper ">
			<nav class="left-nav">
				<ul>
					<li><a href="#">Culture</a></li>
					<li><a href="#">Events</a></li>
					<li><a href="#">Food</a></li>
				</ul>
			</nav>
			<div class="header-logo">
				<img src="Images/logo.png" alt="Gotham Logo">
			</div>
			<nav class="right-nav">
				<ul>
					<li><a href="#">Travelling</a></li>
					<li><a href="#">Fashion</a></li>
					<li><a href="#">Other</a></li>
				</ul>
			</nav>
		</div>
	</header>
	<div class="main">
		<div class="wrapper">
			<main class="page-articles">
				<h2>5 Standout Things to Know About the 2033 Cannes Film Festival</h2>
                <article onclick="myFunction()">
                    <p class="meta">
                        <span class="date">June 8, 2033 </span>
                        <span class="author">by Thomas Smith </span>
                        <span class="category">Culture</span>
                    </p>
                    <img class="red-carpet" id="red-carpet1" src="Images/film-1.jpg" alt="Red carpet walk">
                    <div>
                        <img class="article-pictures" src="Images/film-1.jpg" alt="Red carpet walk">
                        <img class="article-pictures" src="Images/film-2.jpg" alt="Red carpet walk">
                        <img class="article-pictures" src="Images/film-3.jpg" alt="Red carpet walk">
                        <img class="article-pictures" src="Images/film-4.jpg" alt="Red carpet walk">
                    </div>
                    <p class="description">The Cannes Film Festival is an annual film festival held in Cannes, France, which previews new films of all genres, including documentaries from all around the world. Here are nine of the films that generated the most buzz ... </p>
                    <p class="additional">
                        <span class="views">266</span>
                        <span class="comments">3</span>
                    </p>
                </article>
                <a href="index.html"><button class="more">back to home</button></a>
			</main> 
			<aside class="right-sidebar">
				<div class="search-box">
					<label for="search"><i class="fas fa-search"></i></label>
					<input type="search" id="search"placeholder="Keywords">
				</div>
				<div class="calender-widget">
					<div class="calender-top">
						<div class="calender-prev"><i class="fas fa-chevron-left"></i></div>
						<div class="calender-month">June 2033</div>
						<div class="calender-next"><i class="fas fa-chevron-right"></i></div>
					</div>
					<div class="calender-body">
						<table>
							<tr>
								<th>S</th>
								<th>M</th>
								<th>T</th>
								<th>W</th>
								<th>T</th>
								<th>F</th>
								<th>S</th>
							</tr>
							<tr>
								<td>1</td>
								<td>2</td>
								<td class="current-month">3</td>
								<td class="current-month">4</td>
								<td class="current-month">5</td>
								<td class="current-month">6</td>
								<td class="current-month">7</td>
							</tr>
							<tr>
								<td class="current-month">1</td>
								<td class="current-month">2</td>
								<td class="current-month">3</td>
								<td class="current-month">4</td>
								<td class="current-month">5</td>
								<td class="current-month">6</td>
								<td class="current-month">7</td>
							</tr>
							<tr>
								<td class="current-month">1</td>
								<td class="current-month">2</td>
								<td class="current-month">3</td>
								<td class="current-month">4</td>
								<td class="current-month">5</td>
								<td class="current-month">6</td>
								<td class="current-month">7</td>
							</tr>
							<tr>
								<td class="current-month">1</td>
								<td class="current-month">2</td>
								<td class="current-month">3</td>
								<td class="current-month">4</td>
								<td class="current-month">5</td>
								<td class="current-month">6</td>
								<td class="current-month">7</td>
							</tr>
							<tr>
								<td class="current-month">1</td>
								<td class="current-month current-day">2</td>
								<td class="current-month">3</td>
								<td class="current-month">4</td>
								<td class="current-month">5</td>
								<td>6</td>
								<td>7</td>
							</tr>
						</table>
					</div>
				</div>
				<div class="popular-news">
					<h2>Popular News</h2>
					 <article>
					 	<p class="date">June 5, 2033</p>
					 	<h3>Scene: The Guide</h3>
					 </article>
					  <article>
					 	<p class="date">June 5, 2033</p>
					 	<h3>Discovering Relatives and Relics in Southern Sweden</h3>
					 </article>
					  <article>
					 	<p class="date">May 29, 2033 </p>
					 	<h3>Wileman Home Tour: Exeter History Restored</h3>
					 </article>
					  <article>
					 	<p class="date">May 27, 2033 </p>
					 	<h3>Spring Seafood Medley</h3>
					 </article>
					  <article>
					 	<p class="date">May 19, 2033 </p>
					 	<h3>Easter Brunch with a Bite</h3>
					 </article>
				</div>
			</aside>
		</div>
	</div>
	<footer class="page-footer">
		<div class="wrapper">
			<div class="copy">
				<p>Â© 2033 Gotham. All rights reserved</p>
			</div>
			<nav class="footer-nav">
				<ul>
					<li><a href="#">About Blog</a></li>
					<li><a href="#">Need Help?</a></li>
					<li><a href="#">Content Guide</a></li>
				</ul>
			</nav>
			<div class="social">
				<a href="#"><i class="fab fa-facebook-f"></i></a>
				<a href="#"><i class="fab fa-twitter"></i></a>
				<a href="#"><i class="fab fa-google-plus-g"></i></a>
			</div>
		</div>	 
    </footer>
    <script>
        var galleryImages = document.querySelectorAll('.article-pictures')  //create list of images to maintain state
        //console.log(galleryImages)
        var getLatestOpenedImg;  //variable used to keep track of which image is on slider
        
        //this first function crates a div and appends the image in it providing it with a new class to style it
            function myFunction(){ 

                let container = document.body;
                let newImageWindow = document.createElement('div');
                container.appendChild(newImageWindow);
                newImageWindow.setAttribute('class', 'img-window');
                newImageWindow.setAttribute('onclick', 'closeimg()'); //closes window on click

                let newImg = document.getElementById("red-carpet1").cloneNode(); //cloning image into new div when tested it loses orignal image other wise
                getLatestOpenedImg = 1;
                newImageWindow.appendChild(newImg);
                console.log(newImageWindow);
                newImg.classList.remove('red-carpet');
                newImg.classList.add('popup-img'); //new styles
                newImg.setAttribute('id', 'current-img')

                if(getLatestOpenedImg != null){ //this function creates the prev & next chevrons 
                    let newNextBtn = document.createElement('a');
                    newNextBtn.innerHTML = '<i class="fas fa-chevron-right next"></i>';
                    container.appendChild(newNextBtn)
                    newNextBtn.setAttribute('class', 'img-btn-next');
                    newNextBtn.setAttribute('onclick', 'changeImg(1)'); //calling change image fucntion

                    let newprevBtn = document.createElement('a');
                    newprevBtn.innerHTML = '<i class="fas fa-chevron-left next"></i>';
                    container.appendChild(newprevBtn);
                    newprevBtn.setAttribute('class', 'img-btn-prev');
                    newprevBtn.setAttribute('onclick', 'changeImg(0)'); //calling change image function
                }
            }
    
        function closeimg() { //closes the image window
            document.querySelector('.img-window').remove();
            document.querySelector('.img-btn-next').remove();
            document.querySelector('.img-btn-prev').remove();
        }

        function changeImg(change) { 
            document.querySelector('#current-img').remove(); //removes current image

            let getImgWindow = document.querySelector('.img-window'); 
            let newImg = document.createElement('img');   //these lines create a brand new img tag
            getImgWindow.appendChild(newImg);

            let calcNewImg = 0;   
            if(change === 1){
                calcNewImg = getLatestOpenedImg + 1;
                if(calcNewImg > galleryImages.length){   // creates cyclic effect as you go through images
                    calcNewImg =1;
                }
            }
            else if(change === 0){
                calcNewImg = getLatestOpenedImg - 1;
                if(calcNewImg < 1){ // creates cyclic effect as you go through images
                    calcNewImg = galleryImages.length;
                }
            }
            console.log(calcNewImg)
            newImg.setAttribute('src', 'Images/film-' + calcNewImg + '.jpg') //uses file names and varibale to iterate through pics
            newImg.setAttribute('class', 'popup-img')
            newImg.setAttribute('id', 'current-img')

            getLatestOpenedImg = calcNewImg //maintains state of which is current image
        }
        
    </script>
</body>
</html>